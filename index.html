<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For Revalina Bilqis</title>
    <style>
        /* --- GLOBAL STYLES --- */
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Poppins', sans-serif; }
        
        body {
            overflow: hidden;
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 50%, #fad0c4 100%);
            height: 100vh;
            color: #d63384;
        }

        /* Background Foto Overlay (50% Opacity) */
        .bg-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: url('bg.jpg') center/cover no-repeat;
            opacity: 0; 
            transition: opacity 1.5s ease;
            z-index: -1;
        }

        .screen {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            display: flex; justify-content: center; align-items: center;
            flex-direction: column;
            transition: all 0.6s cubic-bezier(0.25, 0.8, 0.25, 1);
            visibility: hidden; opacity: 0; transform: scale(1.1);
        }

        .active { visibility: visible; opacity: 1; transform: scale(1); z-index: 10; }

        /* --- SCREEN 1: HEART --- */
        #home { visibility: visible; opacity: 1; transform: scale(1); }
        .heart-btn {
            font-size: 100px; color: #ff0000; cursor: pointer;
            filter: drop-shadow(0 0 15px rgba(255, 0, 0, 0.6));
            animation: beat 0.8s infinite alternate;
        }
        @keyframes beat { from { transform: scale(1); } to { transform: scale(1.2); } }

        /* --- MENU GRID --- */
        .menu-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; z-index: 20; }
        
        .menu-item {
            width: 140px; height: 140px; background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(8px); border-radius: 20px;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            cursor: pointer; box-shadow: 0 10px 20px rgba(0,0,0,0.1);
            font-weight: bold; transition: all 0.3s ease;
        }

        /* EFEK ZOOM SAAT MENU DIKLIK */
        .menu-item:active {
            transform: scale(0.9); /* Mengecil dikit saat ditekan */
        }
        
        .menu-item:hover { 
            transform: scale(1.1); /* Zoom saat hover */
            background: #fff; 
        }

        .menu-item span { font-size: 30px; margin-bottom: 5px; }

        /* --- CONTENT BOX --- */
        .content-box {
            background: rgba(255, 255, 255, 0.9); padding: 30px;
            border-radius: 25px; width: 85%; max-width: 450px;
            text-align: center; box-shadow: 0 15px 35px rgba(0,0,0,0.1);
            z-index: 30; position: relative;
        }

        /* --- FALLING ELEMENTS --- */
        .falling-item {
            position: absolute; top: -50px; pointer-events: none;
            animation: fall linear infinite, sway ease-in-out infinite alternate;
            filter: blur(0.5px); z-index: 5;
        }
        @keyframes fall { to { transform: translateY(110vh) rotate(360deg); } }
        @keyframes sway { from { margin-left: -20px; } to { margin-left: 20px; } }

        /* --- FIREWORKS CANVAS --- */
        #fwCanvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 2; }

        /* --- SECRET BUTTONS --- */
        .btn-wrap { display: flex; justify-content: center; gap: 20px; margin-top: 20px; position: relative; }
        .btn-yes, .btn-no { padding: 10px 25px; border: none; border-radius: 20px; cursor: pointer; font-weight: bold; transition: 0.2s; }
        .btn-yes { background: #ff758c; color: white; }
        .btn-no { background: #ccc; color: #555; position: relative; z-index: 999; }

        /* --- FOOTER --- */
        footer {
            position: fixed; bottom: 15px; width: 100%;
            text-align: center; font-size: 14px; color: rgba(214, 51, 132, 0.8);
            z-index: 100; font-weight: bold; letter-spacing: 1px;
        }

        .btn-back { margin-top: 20px; padding: 10px 25px; background: #ff758c; color: #fff; border: none; border-radius: 15px; cursor: pointer; font-weight: bold; }
        .collage { display: grid; grid-template-columns: repeat(2, 3fr); gap: 10px; margin-top: 10px; }
        .collage img { width: 100%; height: 110px; object-fit: cover; border-radius: 10px; border: 2px solid white; }
        #typewriter { line-height: 1.6; font-style: italic; min-height: 50px; font-size: 15px; color: #444; }
    </style>
</head>
<body>

    <audio id="bgm" src="musik.mp3" loop></audio>
    <div class="bg-overlay" id="overlay"></div>
    <div id="particle-container"></div>
    <canvas id="fwCanvas"></canvas>

    <div id="home" class="screen">
        <div class="heart-btn" onclick="startEverything()">‚ù§Ô∏è</div>
        <p style="margin-top:20px; color: white; text-shadow: 1px 1px 4px rgba(0,0,0,0.2); font-weight: bold;">Tap the heart for Revalina</p>
    </div>

    <div id="menu" class="screen">
        <h2 style="margin-bottom:30px; text-shadow: 2px 2px 5px rgba(255,255,255,0.5);">For Revalina Bilqis ‚ú®</h2>
        <div class="menu-grid">
            <div class="menu-item" onclick="menuClick('page-foto')"><span>üì∏</span>Foto</div>
            <div class="menu-item" onclick="menuClick('page-video')"><span>üé•</span>Video</div>
            <div class="menu-item" onclick="menuClick('page-hadiah')"><span>üéÅ</span>Hadiah</div>
            <div class="menu-item" onclick="menuClick('page-pesan'); startTypewriter();"><span>üíå</span>Pesan</div>
            <div class="menu-item" onclick="menuClick('page-kejutan'); startFireworks();"><span>üéÜ</span>Kejutan</div>
            <div class="menu-item" onclick="menuClick('page-secret')"><span>ü§´</span>Secret</div>
        </div>
    </div>

    <div id="page-foto" class="screen">
        <div class="content-box">
            <h3>Our Memories üì∏</h3>
            <div class="collage">
                <img src="foto1.jpg" alt="1"><img src="foto2.jpg" alt="2">
                <img src="foto3.jpg" alt="3"><img src="foto4.jpg" alt="4">
                <img src="foto5.jpg" alt="5"><img src="foto6.jpg" alt="6">
            </div>
            <button class="btn-back" onclick="goTo('menu')">Back</button>
        </div>
    </div>

    <div id="page-video" class="screen">
    <div class="content-box">
        <h3>Video for You üé•</h3>
        <video width="100%" controls style="border-radius:15px; margin-top:10px; box-shadow: 0 5px 15px rgba(0,0,0,0.2);">
            <source src="video1.mp4" type="video/mp4">
        </video>
        <video width="100%" controls style="border-radius:15px; margin-top:10px; box-shadow: 0 5px 15px rgba(0,0,0,0.2);">
            <source src="video2.mp4" type="video/mp4">
        </video>
        <button class="btn-back" onclick="goTo('menu')">Back</button>
    </div>
</div>

    <div id="page-hadiah" class="screen">
        <div class="content-box">
            <h3>Happy Birthday! üéÇ</h3>
            <p style="font-size: 60px; margin: 10px 0;">üéÅ</p>
            <p>Semoga setiap langkahmu kedepan selalu diberkati kebahagiaan. You deserve the world!</p>
            <button class="btn-back" onclick="goTo('menu')">Back</button>
        </div>
    </div>

    <div id="page-pesan" class="screen">
        <div class="content-box">
            <h3>A Message üíå</h3>
            <div id="typewriter" style="margin-top:20px; text-align: left;"></div>
            <button class="btn-back" onclick="goTo('menu')">Back</button>
        </div>
    </div>

    <div id="page-kejutan" class="screen">
        <div class="content-box">
            <h3 style="font-size: 28px;">DUARRR!!! üéÜ</h3>
            <p style="margin-top: 10px;">Indah kan kembang apinya? Sama kayak kamu!</p>
            <button class="btn-back" onclick="goTo('menu'); stopFireworks();">Back</button>
        </div>
    </div>

    <div id="page-secret" class="screen">
        <div class="content-box">
            <h3>The Secret.. ü§´</h3>
            <p style="font-size: 22px; font-weight: bold; margin: 20px 0; color: #e91e63;">"Jadi kapan mau official?"</p>
            <div class="btn-wrap">
                <button class="btn-yes" onclick="alert('Yay! Akhirnya! ‚ù§Ô∏è Revalina & Raafi ‚ù§Ô∏è')">Sekarang</button>
                <button class="btn-no" id="runBtn" onmouseover="runAway()" onclick="runAway()">Nanti aja</button>
            </div>
            <button class="btn-back" onclick="goTo('menu')">Back</button>
        </div>
    </div>

    <footer>by.Raafi</footer>

    <script>
        const bgm = document.getElementById('bgm');
        const overlay = document.getElementById('overlay');

        function startEverything() {
            bgm.play().catch(() => console.log("User interaction required for audio"));
            goTo('menu');
            overlay.style.opacity = "0.5";
            createDreamyParticles();
        }

        // Fungsi khusus klik menu dengan efek zoom
        function menuClick(id) {
            // Beri sedikit delay agar user bisa melihat efek zoom `:active`
            setTimeout(() => {
                goTo(id);
            }, 150);
        }

        function goTo(id) {
            document.querySelectorAll('.screen').forEach(s => {
                s.classList.remove('active');
                s.style.pointerEvents = "none";
            });
            const target = document.getElementById(id);
            setTimeout(() => {
                target.classList.add('active');
                target.style.pointerEvents = "all";
            }, 50);
        }

        // TYPEWRITER EFFECT
        const textToType = "Hai Revalina Bilqis... Aku cuma mau bilang kalau kamu itu spesial. Makasih ya udah hadir dan kasih warna di hidup aku. Jangan pernah berhenti jadi orang baik. I'm lucky to have you around. ‚ú®";
        let i = 0;
        function startTypewriter() {
            const el = document.getElementById('typewriter');
            el.innerHTML = "";
            i = 0;
            function type() {
                if (i < textToType.length) {
                    el.innerHTML += textToType.charAt(i);
                    i++;
                    setTimeout(type, 50);
                }
            }
            type();
        }

        // RUNAWAY BUTTON
        function runAway() {
            const btn = document.getElementById('runBtn');
            const x = Math.random() * (window.innerWidth - btn.clientWidth - 100);
            const y = Math.random() * (window.innerHeight - btn.clientHeight - 100);
            btn.style.position = 'fixed';
            btn.style.left = x + 'px';
            btn.style.top = y + 'px';
        }

        // PARTICLES (Bunga & Hati)
        function createDreamyParticles() {
            const container = document.getElementById('particle-container');
            const emojis = ['üå∏', '‚ù§Ô∏è', '‚ú®', 'üíñ', 'üåº'];
            for (let i = 0; i < 50; i++) {
                let p = document.createElement('div');
                p.className = 'falling-item';
                p.innerText = emojis[Math.floor(Math.random() * emojis.length)];
                p.style.left = Math.random() * 100 + 'vw';
                p.style.animationDuration = (Math.random() * 5 + 5) + 's, ' + (Math.random() * 2 + 2) + 's';
                p.style.animationDelay = `-${Math.random() * 5}s`;
                p.style.fontSize = Math.random() * 15 + 10 + 'px';
                p.style.opacity = Math.random() * 0.5 + 0.3;
                container.appendChild(p);
            }
        }

        // FIREWORKS LOGIC
        const canvas = document.getElementById('fwCanvas');
        const ctx = canvas.getContext('2d');
        let fwActive = false;
        let pList = [];
        let fInterval;

        class FireworkParticle {
            constructor(x, y, color) {
                this.x = x; this.y = y; this.color = color;
                const angle = Math.random() * Math.PI * 2;
                const speed = Math.random() * 6 + 2;
                this.vx = Math.cos(angle) * speed;
                this.vy = Math.sin(angle) * speed;
                this.alpha = 1;
                this.decay = Math.random() * 0.02 + 0.015;
            }
            draw() {
                ctx.globalAlpha = this.alpha;
                ctx.fillStyle = this.color;
                ctx.beginPath(); ctx.arc(this.x, this.y, 3, 0, Math.PI*2); ctx.fill();
            }
            update() { this.x += this.vx; this.y += this.vy; this.vy += 0.1; this.alpha -= this.decay; }
        }

        function startFireworks() {
            canvas.width = window.innerWidth; canvas.height = window.innerHeight;
            fwActive = true;
            loop();
            fInterval = setInterval(() => {
                const x = Math.random() * canvas.width;
                const y = Math.random() * (canvas.height * 0.4);
                const color = `hsl(${Math.random()*360}, 100%, 60%)`;
                for(let j=0; j<40; j++) pList.push(new FireworkParticle(x, y, color));
            }, 500);
        }

        function stopFireworks() { fwActive = false; clearInterval(fInterval); ctx.clearRect(0,0,canvas.width,canvas.height); pList = []; }

        function loop() {
            if(!fwActive) return;
            ctx.clearRect(0,0,canvas.width,canvas.height);
            for(let idx = pList.length - 1; idx >= 0; idx--) {
                pList[idx].update();
                pList[idx].draw();
                if(pList[idx].alpha <= 0) pList.splice(idx, 1);
            }
            requestAnimationFrame(loop);
        }
    </script>
</body>
</html>
